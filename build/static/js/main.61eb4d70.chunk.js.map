{"version":3,"sources":["services/crud.js","components/Show.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Show","P","handleDelete","name","number","onClick","Filter","search","handleSearch","person","value","onChange","PersonForm","addPerson","handleOnChange","newNumber","handleNumberInfo","newName","onSubmit","type","Persons","map","personn","Search","ar","forEach","p","toUpperCase","push","Notification","message","color","className","style","App","useState","setPerson","setNewName","setNewNumber","setSearch","setMessage","setColor","useEffect","phonebook","initialNumbers","notifyWith","setTimeout","event","newSearch","target","preventDefault","newObj","found","find","element","window","confirm","returnedPerson","catch","error","alert","concat","newPerson","newPNumber","newPersons","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.61eb4d70.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst baseUrl='/api/persons';\r\n\r\nconst getAll=()=>{\r\n    const request=axios.get(baseUrl);\r\n   return request.then(response=>response.data)\r\n}\r\n\r\nconst create=(newObject)=>{\r\n    const request=axios.post(baseUrl,newObject);\r\n    return request.then(response=>response.data);\r\n}\r\n\r\nconst update=(id,newObject)=>{\r\n    const request=axios.put(`${baseUrl}/${id}`,newObject);\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst destroy=(id)=>{\r\n    const request=axios.delete(`${baseUrl}/${id}`);\r\n    return request;\r\n}\r\n\r\nexport default {getAll,create,destroy,update};","import React from 'react';\r\nconst Show=({P,handleDelete})=>{\r\n    return(\r\n    <div>\r\n        <div>{P.name}  {P.number} </div> \r\n        <button onClick={handleDelete}>delete</button>\r\n    </div>\r\n    )\r\n}\r\nexport default Show;","import React,{useState,useEffect} from 'react';\nimport phonebook from './services/crud';\nimport Show from './components/Show'\n\nconst Filter=({search,handleSearch,person})=>{\n  return (\n    <>\n    <div><strong>filter shown with : </strong> <input value={search} onChange={handleSearch} /></div>\n    <Search search={search} person={person} />\n   </>\n  )\n}\n\nconst PersonForm=({addPerson,handleOnChange,newNumber,handleNumberInfo,newName})=>{\n  return (\n   <form onSubmit={addPerson}>\n        <div>name:<input value={newName} onChange={handleOnChange}/></div>\n        <div>number: <input value={newNumber} onChange={handleNumberInfo}/></div>\n        <div><button type=\"submit\">add</button></div>\n   </form>\n  )\n}\n\nconst Persons=({person,handleDelete})=>{\n    return (\n      <div>\n        {person.map((personn)=> <Show key={personn.id} P={personn} handleDelete={()=>handleDelete(personn.id)} />)}\n      </div>\n    )\n}\n\nconst Search=({search,person})=>{\n  let ar=[];\n  person.forEach((p)=>{\n    if(p.name.toUpperCase().search(search.toUpperCase())!==-1)\n    {\n      ar.push(p);\n    }\n  })\n\n  return (\n    <div>\n    {ar.map((p)=> <div key={p.id}> {p.id} {p.name} {p.number} </div> )}\n    </div>\n  )\n}\n\nconst Notification=({message,color})=>{\n    if(message===null)\n    {\n      return null\n    }\n    return (\n      <div className=\"error\" style={{color:color}}>\n        {message}\n      </div>\n    )\n}\n\nconst App=()=>{\n  const [person,setPerson]=useState([]);\n  const [newName,setNewName]=useState('');\n  const [newNumber,setNewNumber]=useState('');\n  const [search,setSearch]=useState('');\n  const [message,setMessage]=useState(null);\n  const [color,setColor]=useState('green');\n  useEffect(()=>{\n    phonebook.getAll().then(initialNumbers=>\n      setPerson(initialNumbers)\n      )\n  },[]);\n\n  const notifyWith=(message,color)=>{\n      setColor(color);\n      setMessage(message);\n       setTimeout(()=>{\n                  setMessage(null);\n                  setColor(null);\n                },5000)\n\n  }\n\n  const addPerson=(event)=>{\n    event.preventDefault();\n    const newObj={name:newName,number:newNumber};\n     let found=person.find(element => element.name === newName);\n       if(found && found.name===newName)\n       {\n          if(window.confirm(`${newName} is already added to phonebook,replace the old number with new one?`))\n          {\n            phonebook.update(found.id,newObj)\n            .then(returnedPerson=>{\n              setPerson(person.map((p)=>{\n                return p.id!==found.id ? p : returnedPerson;\n              })\n              );\n              notifyWith(`updated ${returnedPerson.name}`,'green');\n            })\n             .catch(error => {\n                notifyWith(`Information of ${found.name} has already been deleted from server`,'red');\n            })\n          }\n       }\n       else\n       {\n          found=person.find(element => element.number === newNumber);\n          if(found && found.number===newNumber)\n          {\n              alert(`${newNumber} is already added to phonebook`)\n          }\n          else\n          {\n              phonebook.create(newObj)\n              .then(returnedPerson=>{\n                setPerson(person.concat(returnedPerson));\n                notifyWith(`Added ${returnedPerson.name}`,'green');\n              })\n          }\n      }\n  }\n\n  const handleOnChange=(event)=>{\n      const newPerson=event.target.value;\n      setNewName(newPerson);\n  }\n\n  const handleNumberInfo=(event)=>{\n    const newPNumber=event.target.value;\n      setNewNumber(newPNumber);\n  }\n\n  const handleSearch=(event)=>{\n    const newSearch=event.target.value;\n    setSearch(newSearch);\n  }\n  \n  const handleDelete=(id)=>{\n    let newPersons=[];\n    const personn=person.find(p=>p.id===id);\n    if(window.confirm(`Delete ${personn.name}`))\n    {\n      phonebook.destroy(id).then(()=>{\n        person.forEach((p)=>{\n          if(p.id!==id)\n          newPersons.push(p);\n        })\n        setPerson(newPersons);\n        notifyWith(`Deleted ${personn.name}`,'red');\n      })\n    }\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={message} color={color}/>\n      <Filter search={search} handleSearch={handleSearch} person={person} />\n      <h3>Add a new </h3>\n      <PersonForm \n      addPerson={addPerson}\n      handleOnChange={handleOnChange}\n      newNumber={newNumber}\n      handleNumberInfo={handleNumberInfo}\n      newName={newName}\n      />\n\n      <h2>Numbers</h2>\n      <Persons person={person} handleDelete={handleDelete}/>\n    </div>\n  )\n}\n\nexport default App;","import ReactDOM from 'react-dom';\nimport React from 'react';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}